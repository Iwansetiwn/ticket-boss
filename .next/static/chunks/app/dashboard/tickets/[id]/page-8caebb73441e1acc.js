(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3799],{306:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.bind(s,4015))},4015:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(5155),n=s(2115),r=s(5695);function i(e){let{id:t}=e,s=(0,r.useRouter)(),[i,o]=(0,n.useState)(!1);async function u(){if(confirm("Delete this ticket? This cannot be undone.")){o(!0);try{let e=await fetch("/api/tickets/".concat(t),{method:"DELETE"});if(console.log("DELETE /api/tickets/",t,"status",e.status),!e.ok){let t=await e.json().catch(()=>({}));alert((null==t?void 0:t.error)||"Failed to delete ticket"),o(!1);return}s.push("/dashboard/tickets"),s.refresh()}catch(e){console.error("delete failed",e),alert("Failed to delete ticket")}finally{o(!1)}}}return(0,a.jsx)("button",{onClick:u,disabled:i,className:"...",children:i?"Deletingâ€¦":"Delete"})}},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1684,7358],()=>t(306)),_N_E=e.O()}]);