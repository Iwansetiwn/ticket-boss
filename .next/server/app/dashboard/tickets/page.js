(()=>{var e={};e.id=1343,e.ids=[1343],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14270:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(60687);r(43210);let s=({variant:e="light",color:t="primary",size:r="md",startIcon:s,endIcon:n,children:l})=>{let i={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[e][t];return(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${{sm:"text-theme-xs",md:"text-sm"}[r]} ${i}`,children:[s&&(0,a.jsx)("span",{className:"mr-1",children:s}),l,n&&(0,a.jsx)("span",{className:"ml-1",children:n})]})}},17858:(e,t,r)=>{Promise.resolve().then(r.bind(r,51995))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33103:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/iwan/Downloads/New Chat/new-support/src/components/tickets/TicketCards.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/iwan/Downloads/New Chat/new-support/src/components/tickets/TicketCards.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},51995:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var a=r(60687),s=r(43210),n=r(85814),l=r.n(n),i=r(14270);function d({currentPage:e,totalPages:t,onPageChange:r}){let n=(0,s.useMemo)(()=>{let r=Math.max(1,e-1);return Array.from({length:Math.min(3,t)},(e,a)=>Math.min(r+a,t))},[e,t]);return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>r(Math.max(1,e-1)),disabled:1===e,className:"mr-2.5 flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-3.5 py-2.5 text-sm text-gray-700 shadow-theme-xs hover:bg-gray-50 disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]",children:"Previous"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e>3&&(0,a.jsx)("span",{className:"px-2 text-gray-400",children:"..."}),n.map(t=>(0,a.jsx)("button",{onClick:()=>r(t),className:`flex h-10 w-10 items-center justify-center rounded-lg text-sm font-medium ${e===t?"bg-brand-500 text-white":"text-gray-700 hover:bg-blue-500/[0.08] hover:text-brand-500 dark:text-gray-400 dark:hover:text-brand-500"}`,children:t},t)),e<t-2&&(0,a.jsx)("span",{className:"px-2 text-gray-400",children:"..."})]}),(0,a.jsx)("button",{onClick:()=>r(Math.min(t,e+1)),disabled:e===t,className:"ml-2.5 flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-3.5 py-2.5 text-sm text-gray-700 shadow-theme-xs hover:bg-gray-50 disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]",children:"Next"})]})}var o=r(55324),c=r(62781),x=r(49970),u=r(19125);let g={open:"success",pending:"warning",resolved:"success",closed:"error"},h=e=>e&&g[e.toLowerCase()]||"info",m=e=>new Intl.DateTimeFormat("en",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e));function p({tickets:e,initialPageSize:t=8,liveRefreshInterval:r}){let[n,g]=(0,s.useState)(1),[p,b]=(0,s.useState)(t),[y,f]=(0,s.useState)(e),[w,k]=(0,s.useState)(""),[v,j]=(0,s.useState)("all"),[N,C]=(0,s.useState)("30"),[D,S]=(0,s.useState)(""),[M,P]=(0,s.useState)(!1),[T,_]=(0,s.useState)(()=>new Date),L=(0,s.useRef)(null),[A,U]=(0,s.useState)(null),[$,F]=(0,s.useState)(null),[O,E]=(0,s.useState)(!1),[R,q]=(0,s.useState)(null),[I,z]=(0,s.useState)(!1),B=(0,s.useRef)(null),G=(0,s.useMemo)(()=>{let e=w.trim().toLowerCase(),t=Date.now();return y.filter(r=>{let a=[r.id,r.subject??"",r.brand??"",r.issueCategory??"",r.ticketUrl??""].join(" ").toLowerCase(),s=!e||a.includes(e),n=r.status?.toLowerCase(),l="all"===v||n===v.toLowerCase(),i=new Date(r.updatedAt).getTime(),d=!0;if("today"===N)d=i>=new Date().setHours(0,0,0,0);else if("7"===N)d=t-i<=6048e5;else if("30"===N)d=t-i<=2592e6;else if("older"===N)d=t-i>2592e6;else if("custom"===N&&D){let e=new Date(D).setHours(0,0,0,0);d=i>=e&&i<e+864e5}return s&&l&&d})},[y,w,v,N,D]),Y=(0,s.useMemo)(()=>Math.max(1,Math.ceil(G.length/p)),[G.length,p]),H=(0,s.useMemo)(()=>G.slice((n-1)*p,n*p),[G,n,p]),W=!!w.trim()||"all"!==v||"30"!==N||!!D,X=(0,s.useMemo)(()=>{let e=new Date(T.getFullYear(),T.getMonth(),1),t=new Date(T.getFullYear(),T.getMonth()+1,0),r=[],a=e.getDay();for(let t=0;t<a;t++){let s=new Date(e);s.setDate(s.getDate()-(a-t)),r.push({date:s,label:s.getDate()})}for(let e=1;e<=t.getDate();e++)r.push({date:new Date(T.getFullYear(),T.getMonth(),e),label:e});let s=42-r.length;for(let e=1;e<=s;e++){let a=new Date(t);a.setDate(t.getDate()+e),r.push({date:a,label:a.getDate()})}return r},[T]),Z=D?new Intl.DateTimeFormat("en",{month:"short",day:"numeric",year:"numeric"}).format(new Date(D)):null;function J(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function V(e){_(t=>new Date(t.getFullYear(),t.getMonth()+e,1))}async function K(e){try{let t=await fetch(`/api/tickets/${e}`);if(!t.ok)return null;return(await t.json()).ticket}catch(e){return console.error("Failed to fetch ticket details",e),null}}function Q(){O||U(null)}async function ee(){if(R?.ticket){B.current&&(window.clearTimeout(B.current),B.current=null),z(!0);try{var e;let t=await fetch("/api/tickets/restore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ticket:R.ticket})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e?.error||"Failed to restore ticket")}let r={id:(e=(await t.json()).ticket).id,clientName:e.clientName,brand:e.brand,subject:e.subject,product:e.product,issueCategory:e.issueCategory,ticketUrl:e.ticketUrl,status:e.status,updatedAt:e.updatedAt};f(e=>{let t=e.filter(e=>e.id!==r.id);return[r,...t]}),q(null)}catch(t){console.error("Failed to undo delete",t);let e=t instanceof Error?t.message:"Failed to undo delete";q(t=>t?{...t,error:e}:t),B.current=window.setTimeout(()=>{q(null),B.current=null},3e3)}finally{z(!1)}}}async function et(){if(!A)return;F(null),E(!0);let e=A.id,t=await K(e),r=A.subject||`Ticket ${e}`;try{let a=await fetch(`/api/tickets/${e}`,{method:"DELETE"});if(!a.ok){let e=await a.json().catch(()=>({}));throw Error(e?.error||"Failed to delete ticket")}let s=G.some(t=>t.id===e),l=y.filter(t=>t.id!==e);if(f(l),s){let e=G.length-1,t=Math.max(1,Math.ceil(e/p));n>t&&g(t)}B.current&&window.clearTimeout(B.current),q({ticket:t,label:r,id:e,error:void 0}),B.current=window.setTimeout(()=>{q(null),B.current=null},3e3),U(null)}catch(e){console.error("Failed to delete ticket",e),F(e instanceof Error?e.message:"Failed to delete ticket")}finally{E(!1)}}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)("div",{className:"flex flex-col gap-4 rounded-3xl border border-gray-200 bg-white p-4 shadow-lg shadow-gray-200/40 dark:border-white/5 dark:bg-white/[0.02] dark:shadow-none sm:p-6",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tickets"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage and track conversations from any shift or day."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Per page"}),(0,a.jsx)("select",{value:p,onChange:e=>{b(Number(e.target.value)),g(1)},className:"rounded-lg border border-gray-200 bg-white px-2 py-1 text-sm text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-white",children:[4,8,12,20].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(o.A,{placeholder:"Search by ticket id, subject, brand, or category",value:w,onChange:e=>{k(e.target.value),g(1)}})}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,a.jsxs)("select",{value:v,onChange:e=>{j(e.target.value),g(1)},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:[(0,a.jsx)("option",{value:"all",children:"All statuses"}),(0,a.jsx)("option",{value:"open",children:"Open"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"resolved",children:"Resolved"}),(0,a.jsx)("option",{value:"closed",children:"Closed"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("select",{value:N,onChange:e=>{let t=e.target.value;C(t),"custom"!==t&&S(""),P("custom"===t),g(1)},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:[(0,a.jsx)("option",{value:"today",children:"Today"}),(0,a.jsx)("option",{value:"7",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30",children:"Last 30 days"}),(0,a.jsx)("option",{value:"older",children:"Older than 30 days"}),(0,a.jsx)("option",{value:"all",children:"All time"}),(0,a.jsx)("option",{value:"custom",children:"Specific day"})]}),"custom"===N&&(0,a.jsxs)("div",{className:"relative",ref:L,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>P(e=>!e),className:"flex w-full items-center justify-between rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 transition hover:border-brand-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:[(0,a.jsx)("span",{children:Z||"Choose a date"}),(0,a.jsx)("svg",{className:`size-4 transition ${M?"rotate-180":""}`,viewBox:"0 0 17 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.5 1.5L8.5 8.5L15.5 1.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})})]}),M&&(0,a.jsxs)("div",{className:"absolute right-0 z-50 mt-2 w-64 rounded-2xl border border-gray-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between text-sm font-medium text-gray-700 dark:text-white",children:[(0,a.jsx)("button",{type:"button",onClick:()=>V(-1),className:"rounded-full px-2 py-1 text-gray-500 transition hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/10",children:"‹"}),(0,a.jsx)("span",{children:T.toLocaleString("en",{month:"long",year:"numeric"})}),(0,a.jsx)("button",{type:"button",onClick:()=>V(1),className:"rounded-full px-2 py-1 text-gray-500 transition hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/10",children:"›"})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-gray-400 dark:text-gray-500",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(e=>(0,a.jsx)("span",{children:e},e))}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-7 gap-1 text-center",children:X.map(({date:e,label:t},r)=>{let s=e.getMonth()===T.getMonth(),n=D&&J(e,new Date(D)),l=J(e,new Date);return(0,a.jsx)("button",{type:"button",onClick:()=>{S(e.toISOString().slice(0,10)),C("custom"),P(!1),g(1)},className:`h-9 rounded-full text-sm transition ${n?"bg-brand-500 text-white":l?"border border-brand-400 text-brand-500":"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"} ${s?"":"text-gray-400 dark:text-gray-500"}`,children:t},`${e.toISOString()}-${r}`)})})]})]})]}),W&&(0,a.jsx)("button",{onClick:function(){k(""),j("all"),C("30"),S(""),P(!1),g(1)},className:"rounded-lg border border-gray-200 px-3 py-2 text-xs font-medium text-gray-600 transition hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:"Clear filters"})]})]})]})}),0===H.length?(0,a.jsx)("div",{className:"rounded-2xl border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500 dark:border-white/10 dark:text-gray-400",children:"No tickets found for this filter set. Try adjusting your filters to view older shifts."}):(0,a.jsx)("div",{className:"space-y-4",children:H.map(e=>{let t=e.ticketUrl||function(e){let t=process.env.NEXT_PUBLIC_WORLDHOST_SUPPORT_INBOX_URL??"https://admin.worldhost.group/admin/support/inbox",r=(0,x.Zz)(e);return`${t.replace(/\/$/,"")}/${r}`}(e.id),r=(0,x.Zz)(e.id);return(0,a.jsxs)("article",{className:"group flex flex-col gap-4 rounded-2xl border border-gray-200 bg-white p-4 transition hover:border-brand-200 hover:shadow-xl dark:border-white/[0.08] dark:bg-white/[0.02] lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{className:"grid gap-4 lg:flex-1 lg:grid-cols-[150px_150px_220px_minmax(220px,_1fr)]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Ticket"}),(0,a.jsxs)(l(),{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-semibold text-gray-900 transition hover:text-brand-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:text-white dark:focus-visible:ring-offset-gray-900 whitespace-nowrap leading-tight",children:["#",r]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Brand"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:e.brand||"—"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Category"}),(0,a.jsx)("select",{value:e.issueCategory||"Uncategorized",onChange:async t=>{var r,a;let s=t.target.value;r=e.id,a={issueCategory:s},f(e=>e.map(e=>e.id===r?{...e,...a}:e));try{if(!(await fetch(`/api/tickets/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({issueCategory:s})})).ok)throw Error()}catch(e){console.error("Failed to update category",e)}},className:"w-full rounded-lg border border-gray-200 bg-white px-2 py-1.5 text-xs font-medium text-gray-700 focus:border-brand-400 focus:outline-none focus:ring-1 focus:ring-brand-400 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100",children:c.c.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 lg:col-auto",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Subject"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2",children:e.subject||"No subject"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-3 text-xs text-gray-500 dark:text-gray-400 sm:items-end sm:text-right",children:[(0,a.jsx)(i.A,{color:h(e.status),size:"sm",children:e.status||"Unknown"}),(0,a.jsxs)("span",{children:["Updated ",m(e.updatedAt)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l(),{href:`/dashboard/tickets/${e.id}`,className:"rounded-full border border-gray-200 px-3 py-1 text-xs font-medium text-gray-700 transition hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:"View"}),(0,a.jsx)("button",{onClick:()=>{U(e),F(null)},className:"rounded-full border border-red-200 px-3 py-1 text-xs font-medium text-red-600 transition hover:bg-red-50 dark:border-red-900 dark:bg-red-950/40 dark:text-red-300",children:"Delete"})]})]})]},e.id)})}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Showing ",(n-1)*p+1," -"," ",Math.min(n*p,G.length)," of ",G.length]}),(0,a.jsx)(d,{currentPage:n,totalPages:Y,onPageChange:g})]})]}),(0,a.jsx)(u.a,{isOpen:!!A,onClose:Q,showCloseButton:!O,className:"max-w-lg p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete ticket"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Are you sure you want to delete",A?.subject?` "${A.subject}"`:" this ticket","? This action cannot be undone unless you use undo immediately."]}),$&&(0,a.jsx)("div",{className:"rounded-xl bg-red-50 px-3 py-2 text-sm text-red-600 dark:bg-red-500/10 dark:text-red-200",children:$}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:Q,disabled:O,className:"rounded-full px-4 py-2 text-sm font-semibold text-gray-600 transition hover:text-gray-900 disabled:opacity-50 dark:text-gray-300",children:"Cancel"}),(0,a.jsx)("button",{type:"button",onClick:et,disabled:O,className:"rounded-full bg-red-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-red-600 disabled:opacity-60",children:O?"Deleting…":"Delete"})]})]})}),R&&(0,a.jsxs)("div",{className:"fixed bottom-6 left-1/2 z-[1100] w-full max-w-sm -translate-x-1/2 rounded-2xl border border-gray-200 bg-white p-4 shadow-2xl dark:border-gray-700 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Ticket deleted"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R.label," removed. Undo expires in 3 seconds."]}),R.error&&(0,a.jsx)("p",{className:"mt-2 text-xs text-red-500 dark:text-red-400",children:R.error})]}),(0,a.jsx)("button",{onClick:function(){B.current&&(window.clearTimeout(B.current),B.current=null),q(null)},"aria-label":"Dismiss",className:"text-gray-400 transition hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-200",children:(0,a.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.41077 4.41074C4.7362 4.08531 5.26384 4.08531 5.58927 4.41074L10.0006 8.82207L14.4119 4.41074C14.7373 4.08531 15.265 4.08531 15.5904 4.41074C15.9158 4.73617 15.9158 5.2638 15.5904 5.58924L11.1791 10.0006L15.5904 14.4119C15.9158 14.7373 15.9158 15.265 15.5904 15.5904C15.265 15.9158 14.7373 15.9158 14.4119 15.5904L10.0006 11.1791L5.58927 15.5904C5.26384 15.9158 4.7362 15.9158 4.41077 15.5904C4.08534 15.265 4.08534 14.7373 4.41077 14.4119L8.8221 10.0006L4.41077 5.58924C4.08534 5.26381 4.08534 4.73617 4.41077 4.41074Z"})})})]}),(0,a.jsx)("div",{className:"mt-4 flex items-center justify-end gap-3",children:(0,a.jsx)("button",{onClick:ee,disabled:I||!R.ticket||!!R.error,className:"rounded-full bg-brand-500 px-4 py-1.5 text-sm font-semibold text-white transition hover:bg-brand-600 disabled:opacity-60",children:I?"Restoring…":"Undo"})})]})]})}},55324:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(60687);r(43210);let s=({type:e="text",id:t,name:r,placeholder:s,value:n,defaultValue:l,onChange:i,className:d="",min:o,max:c,step:x,disabled:u=!1,success:g=!1,error:h=!1,hint:m,autoComplete:p,required:b=!1})=>{let y=`h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${d}`;return u?y+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700":h?y+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500":g?y+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":y+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800",(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:e,id:t,name:r,placeholder:s,value:n,defaultValue:l,onChange:i,min:o,max:c,step:x,disabled:u,autoComplete:p,required:b,className:y}),m&&(0,a.jsx)("p",{className:`mt-1.5 text-xs ${h?"text-error-500":g?"text-success-500":"text-gray-500"}`,children:m})]})}},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75461:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(37413);r(61120);var s=r(31183),n=r(33103),l=r(12909);async function i(){let e=await (0,l.HW)();if(!e)return null;let t=(await s.A.ticket.findMany({where:{OR:[{ownerId:e.id},{ownerId:null}]},orderBy:{updatedAt:"desc"}})).map(e=>({id:e.id,clientName:e.clientName??null,brand:e.brand??null,subject:e.subject??null,product:e.product??null,issueCategory:e.issueCategory??null,ticketUrl:e.ticketUrl??null,status:e.status??null,updatedAt:e.updatedAt.toISOString()}));return(0,a.jsx)(n.default,{tickets:t,liveRefreshInterval:15e3})}},77690:(e,t,r)=>{Promise.resolve().then(r.bind(r,33103))},79551:e=>{"use strict";e.exports=require("url")},85053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o});var a=r(65239),s=r(48088),n=r(88170),l=r.n(n),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let o={children:["",{children:["dashboard",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75461)),"/Users/iwan/Downloads/New Chat/new-support/src/app/dashboard/tickets/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,63144)),"/Users/iwan/Downloads/New Chat/new-support/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/iwan/Downloads/New Chat/new-support/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/iwan/Downloads/New Chat/new-support/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/iwan/Downloads/New Chat/new-support/src/app/dashboard/tickets/page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/tickets/page",pathname:"/dashboard/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,4999,7370,879,3409,9283],()=>r(85053));module.exports=a})();