(()=>{var e={};e.id=343,e.ids=[343],e.modules={163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return a}});let a=r(71042).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1426:(e,t,r)=>{"use strict";r.d(t,{default:()=>g});var a=r(60687),s=r(43210),n=r(85814),o=r.n(n),d=r(14270);function i({currentPage:e,totalPages:t,onPageChange:r}){let n=(0,s.useMemo)(()=>{let r=Math.max(1,e-1);return Array.from({length:Math.min(3,t)},(e,a)=>Math.min(r+a,t))},[e,t]);return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>r(Math.max(1,e-1)),disabled:1===e,className:"mr-2.5 flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-3.5 py-2.5 text-sm text-gray-700 shadow-theme-xs hover:bg-gray-50 disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]",children:"Previous"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e>3&&(0,a.jsx)("span",{className:"px-2 text-gray-400",children:"..."}),n.map(t=>(0,a.jsx)("button",{onClick:()=>r(t),className:`flex h-10 w-10 items-center justify-center rounded-lg text-sm font-medium ${e===t?"bg-brand-500 text-white":"text-gray-700 hover:bg-blue-500/[0.08] hover:text-brand-500 dark:text-gray-400 dark:hover:text-brand-500"}`,children:t},t)),e<t-2&&(0,a.jsx)("span",{className:"px-2 text-gray-400",children:"..."})]}),(0,a.jsx)("button",{onClick:()=>r(Math.min(t,e+1)),disabled:e===t,className:"ml-2.5 flex h-10 items-center justify-center rounded-lg border border-gray-300 bg-white px-3.5 py-2.5 text-sm text-gray-700 shadow-theme-xs hover:bg-gray-50 disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03]",children:"Next"})]})}var l=r(55324);let u={open:"success",pending:"warning",resolved:"success",closed:"error"},c=e=>e&&u[e.toLowerCase()]||"info",x=e=>new Intl.DateTimeFormat("en",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e));function g({tickets:e,initialPageSize:t=8}){let[r,n]=(0,s.useState)(1),[u,g]=(0,s.useState)(t),[p,f]=(0,s.useState)(e),[h,b]=(0,s.useState)(""),[m,y]=(0,s.useState)("all"),[w,j]=(0,s.useState)("30"),[v,k]=(0,s.useState)(""),[_,R]=(0,s.useState)(!1),[N,O]=(0,s.useState)(()=>new Date),P=(0,s.useRef)(null),E=(0,s.useMemo)(()=>{let e=h.trim().toLowerCase(),t=Date.now();return p.filter(r=>{let a=[r.id,r.subject??"",r.brand??"",r.product??""].join(" ").toLowerCase(),s=!e||a.includes(e),n=r.status?.toLowerCase(),o="all"===m||n===m.toLowerCase(),d=new Date(r.updatedAt).getTime(),i=!0;if("today"===w)i=d>=new Date().setHours(0,0,0,0);else if("7"===w)i=t-d<=6048e5;else if("30"===w)i=t-d<=2592e6;else if("older"===w)i=t-d>2592e6;else if("custom"===w&&v){let e=new Date(v).setHours(0,0,0,0);i=d>=e&&d<e+864e5}return s&&o&&i})},[p,h,m,w,v]),C=(0,s.useMemo)(()=>Math.max(1,Math.ceil(E.length/u)),[E.length,u]),M=(0,s.useMemo)(()=>E.slice((r-1)*u,r*u),[E,r,u]),D=!!h.trim()||"all"!==m||"30"!==w||!!v,S=(0,s.useMemo)(()=>{let e=new Date(N.getFullYear(),N.getMonth(),1),t=new Date(N.getFullYear(),N.getMonth()+1,0),r=[],a=e.getDay();for(let t=0;t<a;t++){let s=new Date(e);s.setDate(s.getDate()-(a-t)),r.push({date:s,label:s.getDate()})}for(let e=1;e<=t.getDate();e++)r.push({date:new Date(N.getFullYear(),N.getMonth(),e),label:e});let s=42-r.length;for(let e=1;e<=s;e++){let a=new Date(t);a.setDate(t.getDate()+e),r.push({date:a,label:a.getDate()})}return r},[N]),T=v?new Intl.DateTimeFormat("en",{month:"short",day:"numeric",year:"numeric"}).format(new Date(v)):null;function A(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function F(e){O(t=>new Date(t.getFullYear(),t.getMonth()+e,1))}async function L(e){if(confirm("Delete this ticket? This action cannot be undone."))try{let t=await fetch(`/api/tickets/${e}`,{method:"DELETE"});if(!t.ok){let e=await t.json().catch(()=>({}));alert(e?.error||"Failed to delete ticket");return}let a=E.some(t=>t.id===e),s=p.filter(t=>t.id!==e);if(f(s),a){let e=E.length-1,t=Math.max(1,Math.ceil(e/u));r>t&&n(t)}}catch(e){console.error("Failed to delete ticket",e),alert("Failed to delete ticket")}}return(0,a.jsx)("div",{className:"space-y-5",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4 rounded-3xl border border-gray-200 bg-white p-4 shadow-lg shadow-gray-200/40 dark:border-white/5 dark:bg-white/[0.02] dark:shadow-none sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tickets"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage and track conversations from any shift or day."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Per page"}),(0,a.jsx)("select",{value:u,onChange:e=>{g(Number(e.target.value)),n(1)},className:"rounded-lg border border-gray-200 bg-white px-2 py-1 text-sm text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-white",children:[4,8,12,20].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(l.A,{placeholder:"Search by ticket id, subject, brand, or product",value:h,onChange:e=>{b(e.target.value),n(1)}})}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row",children:[(0,a.jsxs)("select",{value:m,onChange:e=>{y(e.target.value),n(1)},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:[(0,a.jsx)("option",{value:"all",children:"All statuses"}),(0,a.jsx)("option",{value:"open",children:"Open"}),(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"resolved",children:"Resolved"}),(0,a.jsx)("option",{value:"closed",children:"Closed"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("select",{value:w,onChange:e=>{let t=e.target.value;j(t),"custom"!==t&&k(""),R("custom"===t),n(1)},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:[(0,a.jsx)("option",{value:"today",children:"Today"}),(0,a.jsx)("option",{value:"7",children:"Last 7 days"}),(0,a.jsx)("option",{value:"30",children:"Last 30 days"}),(0,a.jsx)("option",{value:"older",children:"Older than 30 days"}),(0,a.jsx)("option",{value:"all",children:"All time"}),(0,a.jsx)("option",{value:"custom",children:"Specific day"})]}),"custom"===w&&(0,a.jsxs)("div",{className:"relative",ref:P,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>R(e=>!e),className:"flex w-full items-center justify-between rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 transition hover:border-brand-300 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:[(0,a.jsx)("span",{children:T||"Choose a date"}),(0,a.jsx)("svg",{className:`size-4 transition ${_?"rotate-180":""}`,viewBox:"0 0 17 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.5 1.5L8.5 8.5L15.5 1.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round"})})]}),_&&(0,a.jsxs)("div",{className:"absolute right-0 z-50 mt-2 w-64 rounded-2xl border border-gray-200 bg-white p-4 shadow-xl dark:border-white/10 dark:bg-gray-900",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between text-sm font-medium text-gray-700 dark:text-white",children:[(0,a.jsx)("button",{type:"button",onClick:()=>F(-1),className:"rounded-full px-2 py-1 text-gray-500 transition hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/10",children:"‹"}),(0,a.jsx)("span",{children:N.toLocaleString("en",{month:"long",year:"numeric"})}),(0,a.jsx)("button",{type:"button",onClick:()=>F(1),className:"rounded-full px-2 py-1 text-gray-500 transition hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-white/10",children:"›"})]}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-gray-400 dark:text-gray-500",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(e=>(0,a.jsx)("span",{children:e},e))}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-7 gap-1 text-center",children:S.map(({date:e,label:t},r)=>{let s=e.getMonth()===N.getMonth(),o=v&&A(e,new Date(v)),d=A(e,new Date);return(0,a.jsx)("button",{type:"button",onClick:()=>{k(e.toISOString().slice(0,10)),j("custom"),R(!1),n(1)},className:`h-9 rounded-full text-sm transition ${o?"bg-brand-500 text-white":d?"border border-brand-400 text-brand-500":"text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-white/10"} ${s?"":"text-gray-400 dark:text-gray-500"}`,children:t},`${e.toISOString()}-${r}`)})})]})]})]}),D&&(0,a.jsx)("button",{onClick:function(){b(""),y("all"),j("30"),k(""),R(!1),n(1)},className:"rounded-lg border border-gray-200 px-3 py-2 text-xs font-medium text-gray-600 transition hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:"Clear filters"})]})]})]}),0===M.length?(0,a.jsx)("div",{className:"rounded-2xl border border-dashed border-gray-200 p-10 text-center text-sm text-gray-500 dark:border-white/10 dark:text-gray-400",children:"No tickets found for this filter set. Try adjusting your filters to view older shifts."}):(0,a.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,a.jsxs)("article",{className:"group flex flex-col gap-4 rounded-2xl border border-gray-200 bg-white p-4 transition hover:border-brand-200 hover:shadow-xl dark:border-white/[0.08] dark:bg-white/[0.02] lg:flex-row lg:items-center lg:justify-between",children:[(0,a.jsxs)("div",{className:"grid gap-4 lg:flex-1 lg:grid-cols-[150px_150px_180px_minmax(220px,_1fr)]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Ticket"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["#",e.id]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Brand"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:e.brand||"—"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Product"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:e.product||"—"})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1 lg:col-auto",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-wide text-gray-400 dark:text-gray-500",children:"Subject"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2",children:e.subject||"No subject"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start gap-3 text-xs text-gray-500 dark:text-gray-400 sm:items-end sm:text-right",children:[(0,a.jsx)(d.A,{color:c(e.status),size:"sm",children:e.status||"Unknown"}),(0,a.jsxs)("span",{children:["Updated ",x(e.updatedAt)]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o(),{href:`/dashboard/tickets/${e.id}`,className:"rounded-full border border-gray-200 px-3 py-1 text-xs font-medium text-gray-700 transition hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-200",children:"View"}),(0,a.jsx)("button",{onClick:()=>L(e.id),className:"rounded-full border border-red-200 px-3 py-1 text-xs font-medium text-red-600 transition hover:bg-red-50 dark:border-red-900 dark:bg-red-950/40 dark:text-red-300",children:"Delete"})]})]})]},e.id))}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Showing ",(r-1)*u+1," -"," ",Math.min(r*u,E.length)," of ",E.length]}),(0,a.jsx)(i,{currentPage:r,totalPages:C,onPageChange:n})]})]})})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14270:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(60687);r(43210);let s=({variant:e="light",color:t="primary",size:r="md",startIcon:s,endIcon:n,children:o})=>{let d={light:{primary:"bg-brand-50 text-brand-500 dark:bg-brand-500/15 dark:text-brand-400",success:"bg-success-50 text-success-600 dark:bg-success-500/15 dark:text-success-500",error:"bg-error-50 text-error-600 dark:bg-error-500/15 dark:text-error-500",warning:"bg-warning-50 text-warning-600 dark:bg-warning-500/15 dark:text-orange-400",info:"bg-blue-light-50 text-blue-light-500 dark:bg-blue-light-500/15 dark:text-blue-light-500",light:"bg-gray-100 text-gray-700 dark:bg-white/5 dark:text-white/80",dark:"bg-gray-500 text-white dark:bg-white/5 dark:text-white"},solid:{primary:"bg-brand-500 text-white dark:text-white",success:"bg-success-500 text-white dark:text-white",error:"bg-error-500 text-white dark:text-white",warning:"bg-warning-500 text-white dark:text-white",info:"bg-blue-light-500 text-white dark:text-white",light:"bg-gray-400 dark:bg-white/5 text-white dark:text-white/80",dark:"bg-gray-700 text-white dark:text-white"}}[e][t];return(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 justify-center gap-1 rounded-full font-medium ${{sm:"text-theme-xs",md:"text-sm"}[r]} ${d}`,children:[s&&(0,a.jsx)("span",{className:"mr-1",children:s}),o,n&&(0,a.jsx)("span",{className:"ml-1",children:n})]})}},16189:(e,t,r)=>{"use strict";var a=r(65773);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},17858:(e,t,r)=>{Promise.resolve().then(r.bind(r,1426))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30474:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var a=r(31261),s=r.n(a)},31261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return d}});let a=r(14985),s=r(44953),n=r(46533),o=a._(r(1933));function d(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=n.Image},33103:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/iwan/Downloads/New Chat/new-support/src/components/tickets/TicketCards.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/iwan/Downloads/New Chat/new-support/src/components/tickets/TicketCards.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},39916:(e,t,r)=>{"use strict";var a=r(97576);r.o(a,"notFound")&&r.d(t,{notFound:function(){return a.notFound}}),r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}})},48976:(e,t,r)=>{"use strict";function a(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return a}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55324:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(60687);r(43210);let s=({type:e="text",id:t,name:r,placeholder:s,value:n,defaultValue:o,onChange:d,className:i="",min:l,max:u,step:c,disabled:x=!1,success:g=!1,error:p=!1,hint:f,autoComplete:h,required:b=!1})=>{let m=`h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs placeholder:text-gray-400 focus:outline-hidden focus:ring-3 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${i}`;return x?m+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700":p?m+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10  dark:text-error-400 dark:border-error-500":g?m+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300  dark:text-success-400 dark:border-success-500":m+=" bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800",(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:e,id:t,name:r,placeholder:s,value:n,defaultValue:o,onChange:d,min:l,max:u,step:c,disabled:x,autoComplete:h,required:b,className:m}),f&&(0,a.jsx)("p",{className:`mt-1.5 text-xs ${p?"text-error-500":g?"text-success-500":"text-gray-500"}`,children:f})]})}},55511:e=>{"use strict";e.exports=require("crypto")},62765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return s}});let a=""+r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function s(){let e=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=a,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(37413);r(61120);var s=r(39916),n=r(12909),o=r(89843);async function d({children:e}){let t=await (0,n.HW)();return t||(0,s.redirect)("/signin"),(0,a.jsx)(o.default,{user:t,children:e})}},70899:(e,t,r)=>{"use strict";function a(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return a}}),r(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},71042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,o.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t)||(0,i.isDynamicServerError)(t)||(0,d.isDynamicPostpone)(t)||(0,s.isPostpone)(t)||(0,a.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let a=r(68388),s=r(52637),n=r(51846),o=r(31162),d=r(84971),i=r(98479);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},75461:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(37413);r(61120);var s=r(31183),n=r(33103),o=r(12909);async function d(){let e=await (0,o.HW)();if(!e)return null;let t=(await s.A.ticket.findMany({where:{OR:[{ownerId:e.id},{ownerId:null}]},orderBy:{updatedAt:"desc"}})).map(e=>({id:e.id,clientName:e.clientName??null,brand:e.brand??null,subject:e.subject??null,product:e.product??null,status:e.status??null,updatedAt:e.updatedAt.toISOString()}));return(0,a.jsx)(n.default,{tickets:t})}},77690:(e,t,r)=>{Promise.resolve().then(r.bind(r,33103))},79551:e=>{"use strict";e.exports=require("url")},85053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>l});var a=r(65239),s=r(48088),n=r(88170),o=r.n(n),d=r(30893),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(t,i);let l={children:["",{children:["dashboard",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75461)),"/Users/iwan/Downloads/New Chat/new-support/src/app/dashboard/tickets/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,63144)),"/Users/iwan/Downloads/New Chat/new-support/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/iwan/Downloads/New Chat/new-support/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,54413)),"/Users/iwan/Downloads/New Chat/new-support/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/Users/iwan/Downloads/New Chat/new-support/src/app/dashboard/tickets/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/tickets/page",pathname:"/dashboard/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},86897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return i},redirect:function(){return d}});let a=r(52836),s=r(49026),n=r(19121).actionAsyncStorage;function o(e,t,r){void 0===r&&(r=a.RedirectStatusCode.TemporaryRedirect);let n=Object.defineProperty(Error(s.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n.digest=s.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",n}function d(e,t){var r;throw null!=t||(t=(null==n?void 0:null==(r=n.getStore())?void 0:r.isAction)?s.RedirectType.push:s.RedirectType.replace),o(e,t,a.RedirectStatusCode.TemporaryRedirect)}function i(e,t){throw void 0===t&&(t=s.RedirectType.replace),o(e,t,a.RedirectStatusCode.PermanentRedirect)}function l(e){return(0,s.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function c(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},96330:e=>{"use strict";e.exports=require("@prisma/client")},97576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return s.RedirectType},forbidden:function(){return o.forbidden},notFound:function(){return n.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect},unauthorized:function(){return d.unauthorized},unstable_rethrow:function(){return i.unstable_rethrow}});let a=r(86897),s=r(49026),n=r(62765),o=r(48976),d=r(70899),i=r(163);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,999,370,879,409],()=>r(85053));module.exports=a})();